# FinWiki — База знаний для финансового менеджера

Веб-приложение FinWiki для управления базой знаний с интеграцией Slack бота FinBot и Google Gemini API.

## Компоненты

- **Backend** — FastAPI приложение (API для базы знаний)
- **Frontend** — Веб-интерфейс FinWiki для финансового менеджера
- **FinBot** — Slack бот для ответов на вопросы сотрудников

## Как это работает

1. **Сотрудник пишет вопрос боту FinBot в Slack**
2. **FinBot ищет ответ в базе знаний**
3. **Если ответ найден** — FinBot отправляет его
4. **Если ответа нет** — FinBot сохраняет вопрос и пишет: "Финансовый менеджер ответит позже — ответ появится в базе знаний"
5. **Финансовый менеджер** — открывает веб-интерфейс FinWiki, видит неотвеченные вопросы, добавляет ответы

## Структура проекта

- `backend/` — FastAPI приложение
- `frontend/` — Веб-интерфейс (HTML/CSS/JS)
- `finbot/` — Slack бот

## Настройка Backend

1. Установите зависимости:
```bash
cd backend
pip install -r requirements.txt
```

2. Создайте файл `.env`:
```bash
DATABASE_URL=postgresql://user:password@host:port/database
GEMINI_API_KEY=your_gemini_api_key_here
FRONTEND_URL=http://localhost:3000
```

3. Запустите сервер:
```bash
uvicorn app.main:app --reload
```

## Настройка FinBot

См. инструкции в `finbot/README.md`

## Настройка Frontend

1. Отредактируйте `frontend/config.js`:
```javascript
window.API_URL = 'http://localhost:8000';
```

2. Откройте `frontend/index.html` в браузере

## Использование

### Для финансового менеджера (веб-интерфейс):

1. **Добавление вопросов-ответов:**
   - Через форму (текст)
   - Импорт из CSV/Excel файла
   - Голосовое сообщение

2. **Аппрув:**
   - Просмотр списка pending записей
   - Одобрение или отклонение

3. **Неотвеченные вопросы:**
   - Просмотр вопросов из Slack
   - Добавление ответов к вопросам

4. **Поиск:**
   - Поиск по ключевым словам
   - Семантический поиск через Gemini

### Для сотрудников (Slack):

- Напишите вопрос боту FinBot в Slack
- Получите ответ из базы знаний или сообщение о том, что ответ появится позже
